FROM node:dubnium-alpine3.11
LABEL maintainer="Daniel Rataj <daniel.rataj@centrum.cz>"
LABEL org.opencontainers.image.source="https://github.com/whoopsmonitor/whoopsmonitor-check-cloudflare-status-feed"
LABEL com.whoopsmonitor.documentation="https://github.com/whoopsmonitor/whoopsmonitor-check-cloudflare-status-feed"
LABEL com.whoopsmonitor.icon="data:image/png;base64,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"
LABEL com.whoopsmonitor.env.WM_FEED_URL="https://www.cloudflarestatus.com/history.atom"
LABEL com.whoopsmonitor.env.WM_SEARCH_FOR="text to search for"
LABEL com.whoopsmonitor.env.WM_MINUTES_AGO="10"

WORKDIR /tmp/app

COPY ./package.json ./package.json
COPY ./package-lock.json ./package-lock.json

RUN npm install

WORKDIR /app
RUN cp -R /tmp/app/* ./
COPY ./src/index.js ./src/index.js

CMD [ "npm", "start", "--silent" ]
